<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
	<style></style>
</head>
<body>
	<div id="div_trabajo">
        <h2>Enviar datos a php con jquery y metodo post</h2>
        <p>{'movimiento':1,'id':1,'nombre':'luisito','apellido':'rosales','edad':45}</p>
		<input type="button" id="btn_enviarjson" value="enviar datos">
		<p id="mip"></p>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script>
    //http://localhost/ejercicios/etc/php/enviar-json-jquery-a-php.html
    //{google:ok,opera:ok,firefox:ok,ie:false}
		window.onload=function(){
			document.getElementById("btn_enviarjson").onclick = function(){
                let postData={'movimiento':1,'id':1,'nombre':'luisito','apellido':'rosales','edad':45};
                var dataString = JSON.stringify(postData);
                $.ajax({
                    type: "POST",
                    url: "recibeJson-desde-jquery.php",
                    data: {myData:dataString}
                }).done(function(msg){
                    //console.log(msg);
                    $("#div_trabajo").html("Datos insertados correctamente" + msg);
                }).fail(function(msg){
                    console.log(msg);
                    $("#div_trabajo").html("Datos NO insertados correctamente error: "+msg+msg.error+msg.salida);
                });
		    };
        }
	</script>
</body>
</html>
